<!--suppress HtmlUnknownAttribute -->
<div #wrapper class="wrapper"
    [class.no-focus]="disabled"
    [class.explicit-focus-outline]="addFocusOutline && hasFocus"
    [class.clear-focus-outline]="addFocusOutline && !hasFocus"
    [tabindex]="disabled ? -1 : 0" [attr.contenteditable]="!disabled && !disableContentEditable"
    autocomplete="off" autocapitalize="off" autocorrect="off"
    (keydown)="onKeyDown($event)" (keyup)="onKeyUp()" (keypress)="onKeyPress($event)"
    (focus)="onFocus(true)" (blur)="onFocus(false)"
    [style.background-color]="getStaticBackgroundColor()"
    [@displayState]="displayState"
    (mouseleave)="onMouseLeave()"
    (mouseup)="onMouseUp($event)"
    (touchmove)="onTouchMove($event)"
    (touchend)="onTouchEnd($event)">
  <div *ngFor="let item of items; index as i"
      class="digit"
      [ngClass]="getFontClassForItem(item)"
      [class.spinner]="item.spinner"
      contenteditable=false
      [style.background-color]="getBackgroundColorForItem(item, i)"
      [style.color]="getColorForItem(item, i)"
      [style.cursor]="item.editable && !item.hidden && !disabled && !viewOnly ? 'pointer' : 'default'"
      [style.visibility]="item.hidden ? 'hidden' : 'visible'"
      x-click="!item.spinner && onClick(i)"
      (mousedown)="item.spinner && onMouseDown(i, $event)"
      (mouseup)="onMouseUp($event)"
      (contextmenu)="returnFalse()"
      (touchstart)="onTouchStart(i, $event)">
  <span *ngIf="!item.spinner; else spinner">{{item.value}}</span>
  <ng-template #spinner>
    <svg width="0.574em" height="1em" viewBox="0 0 353 614.6">
      <g>
        <path (mousedown)="onMouseDown(SPIN_UP, $event)"
            (touchstart)="onTouchStart(SPIN_UP, $event)"
            [attr.fill]="getBackgroundColorForItem(null, SPIN_UP)"
            [attr.stroke]="getColorForItem(null, SPIN_UP)"
            d="M 34.1 250.8 L 318.4 250.8 C 336 250.8 334.5 222.4 332.7 208.5 C 332.1 204.2 329.2 197.5 326.6 193.8 L 196.7 28.9 C 185.5 8.6 166.8 8.6 155.9 28.9 L 25.7 193.8 C 23.1 197.5 20.4 204.1 19.9 208.5 C 17.9 222.4 16.5 250.8 34.1 250.8 Z"
            style="stroke-width: 33px"/>
        <path (mousedown)="onMouseDown(SPIN_DOWN, $event)"
            (touchstart)="onTouchStart(SPIN_DOWN, $event)"
            [attr.fill]="getBackgroundColorForItem(null, SPIN_DOWN)"
            [attr.stroke]="getColorForItem(null, SPIN_DOWN)"
            d="M 25.6 419.7 L 155.6 585.1 C 167 605 185.5 605 196.9 585.1 L 327 419.7 C 329.5 416.1 332.2 409.6 332.8 405.3 C 334.6 391 335.9 362.6 318.7 362.6 L 33.8 362.6 C 16.6 362.6 18 391 19.8 405.3 C 20.3 409.6 23.1 416.1 25.6 419.7 Z"
            style="stroke-width: 33px"/>
        </g>
      </svg>
    </ng-template>
  </div>
</div>
